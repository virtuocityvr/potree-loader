{"version":3,"file":"potree-loader.es19.js","sources":["../src/utils/bounds.ts"],"sourcesContent":["import { Box3, Matrix4, Vector3 } from 'three';\r\n\r\n/**\r\n * adapted from mhluska at https://github.com/mrdoob/three.js/issues/1561\r\n */\r\nexport function computeTransformedBoundingBox(box: Box3, transform: Matrix4): Box3 {\r\n  return new Box3().setFromPoints([\r\n    new Vector3(box.min.x, box.min.y, box.min.z).applyMatrix4(transform),\r\n    new Vector3(box.min.x, box.min.y, box.min.z).applyMatrix4(transform),\r\n    new Vector3(box.max.x, box.min.y, box.min.z).applyMatrix4(transform),\r\n    new Vector3(box.min.x, box.max.y, box.min.z).applyMatrix4(transform),\r\n    new Vector3(box.min.x, box.min.y, box.max.z).applyMatrix4(transform),\r\n    new Vector3(box.min.x, box.max.y, box.max.z).applyMatrix4(transform),\r\n    new Vector3(box.max.x, box.max.y, box.min.z).applyMatrix4(transform),\r\n    new Vector3(box.max.x, box.min.y, box.max.z).applyMatrix4(transform),\r\n    new Vector3(box.max.x, box.max.y, box.max.z).applyMatrix4(transform),\r\n  ]);\r\n}\r\n\r\nexport function createChildAABB(aabb: Box3, index: number): Box3 {\r\n  const min = aabb.min.clone();\r\n  const max = aabb.max.clone();\r\n  const size = new Vector3().subVectors(max, min);\r\n\r\n  // tslint:disable-next-line:no-bitwise\r\n  if ((index & 0b0001) > 0) {\r\n    min.z += size.z / 2;\r\n  } else {\r\n    max.z -= size.z / 2;\r\n  }\r\n\r\n  // tslint:disable-next-line:no-bitwise\r\n  if ((index & 0b0010) > 0) {\r\n    min.y += size.y / 2;\r\n  } else {\r\n    max.y -= size.y / 2;\r\n  }\r\n\r\n  // tslint:disable-next-line:no-bitwise\r\n  if ((index & 0b0100) > 0) {\r\n    min.x += size.x / 2;\r\n  } else {\r\n    max.x -= size.x / 2;\r\n  }\r\n\r\n  return new Box3(min, max);\r\n}\r\n"],"names":["computeTransformedBoundingBox","box","transform","Box3","Vector3","createChildAABB","aabb","index","min","max","size"],"mappings":";AAKgB,SAAAA,EAA8BC,GAAWC,GAA0B;AAC1E,SAAA,IAAIC,EAAK,EAAE,cAAc;AAAA,IAC9B,IAAIC,EAAQH,EAAI,IAAI,GAAGA,EAAI,IAAI,GAAGA,EAAI,IAAI,CAAC,EAAE,aAAaC,CAAS;AAAA,IACnE,IAAIE,EAAQH,EAAI,IAAI,GAAGA,EAAI,IAAI,GAAGA,EAAI,IAAI,CAAC,EAAE,aAAaC,CAAS;AAAA,IACnE,IAAIE,EAAQH,EAAI,IAAI,GAAGA,EAAI,IAAI,GAAGA,EAAI,IAAI,CAAC,EAAE,aAAaC,CAAS;AAAA,IACnE,IAAIE,EAAQH,EAAI,IAAI,GAAGA,EAAI,IAAI,GAAGA,EAAI,IAAI,CAAC,EAAE,aAAaC,CAAS;AAAA,IACnE,IAAIE,EAAQH,EAAI,IAAI,GAAGA,EAAI,IAAI,GAAGA,EAAI,IAAI,CAAC,EAAE,aAAaC,CAAS;AAAA,IACnE,IAAIE,EAAQH,EAAI,IAAI,GAAGA,EAAI,IAAI,GAAGA,EAAI,IAAI,CAAC,EAAE,aAAaC,CAAS;AAAA,IACnE,IAAIE,EAAQH,EAAI,IAAI,GAAGA,EAAI,IAAI,GAAGA,EAAI,IAAI,CAAC,EAAE,aAAaC,CAAS;AAAA,IACnE,IAAIE,EAAQH,EAAI,IAAI,GAAGA,EAAI,IAAI,GAAGA,EAAI,IAAI,CAAC,EAAE,aAAaC,CAAS;AAAA,IACnE,IAAIE,EAAQH,EAAI,IAAI,GAAGA,EAAI,IAAI,GAAGA,EAAI,IAAI,CAAC,EAAE,aAAaC,CAAS;AAAA,EAAA,CACpE;AACH;AAEgB,SAAAG,EAAgBC,GAAYC,GAAqB;AACzD,QAAAC,IAAMF,EAAK,IAAI,MAAM,GACrBG,IAAMH,EAAK,IAAI,MAAM,GACrBI,IAAO,IAAIN,EAAA,EAAU,WAAWK,GAAKD,CAAG;AAGzC,UAAAD,IAAQ,KAAU,IACjBC,EAAA,KAAKE,EAAK,IAAI,IAEdD,EAAA,KAAKC,EAAK,IAAI,IAIfH,IAAQ,KAAU,IACjBC,EAAA,KAAKE,EAAK,IAAI,IAEdD,EAAA,KAAKC,EAAK,IAAI,IAIfH,IAAQ,KAAU,IACjBC,EAAA,KAAKE,EAAK,IAAI,IAEdD,EAAA,KAAKC,EAAK,IAAI,GAGb,IAAIP,EAAKK,GAAKC,CAAG;AAC1B;"}