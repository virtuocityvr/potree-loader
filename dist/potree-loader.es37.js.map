{"version":3,"file":"potree-loader.es37.js","sources":["../src/point-cloud-octree-geometry.ts"],"sourcesContent":["import { Box3, Vector3 } from 'three';\r\nimport { BinaryLoader, XhrRequest } from './loading';\r\nimport { PointAttributes } from './point-attributes';\r\nimport { PointCloudOctreeGeometryNode } from './point-cloud-octree-geometry-node';\r\n\r\nexport class PointCloudOctreeGeometry {\r\n  disposed: boolean = false;\r\n  needsUpdate: boolean = true;\r\n  root!: PointCloudOctreeGeometryNode;\r\n  octreeDir: string = '';\r\n  hierarchyStepSize: number = -1;\r\n  nodes: Record<string, PointCloudOctreeGeometryNode> = {};\r\n  numNodesLoading: number = 0;\r\n  maxNumNodesLoading: number = 3;\r\n  spacing: number = 0;\r\n  pointAttributes: PointAttributes = new PointAttributes([]);\r\n  projection: any = null;\r\n  url: string | null = null;\r\n\r\n  constructor(\r\n    public loader: BinaryLoader,\r\n    public boundingBox: Box3,\r\n    public tightBoundingBox: Box3,\r\n    public offset: Vector3,\r\n    public xhrRequest: XhrRequest,\r\n  ) {}\r\n\r\n  dispose(): void {\r\n    this.loader.dispose();\r\n    this.root.traverse(node => node.dispose());\r\n\r\n    this.disposed = true;\r\n  }\r\n\r\n  addNodeLoadedCallback(callback: (node: PointCloudOctreeGeometryNode) => void): void {\r\n    this.loader.callbacks.push(callback);\r\n  }\r\n\r\n  clearNodeLoadedCallbacks(): void {\r\n    this.loader.callbacks = [];\r\n  }\r\n}\r\n"],"names":["PointCloudOctreeGeometry","loader","boundingBox","tightBoundingBox","offset","xhrRequest","PointAttributes","node","callback"],"mappings":";AAKO,MAAMA,EAAyB;AAAA,EAcpC,YACSC,GACAC,GACAC,GACAC,GACAC,GACP;AALO,SAAA,SAAAJ,GACA,KAAA,cAAAC,GACA,KAAA,mBAAAC,GACA,KAAA,SAAAC,GACA,KAAA,aAAAC,GAlBW,KAAA,WAAA,IACG,KAAA,cAAA,IAEH,KAAA,YAAA,IACQ,KAAA,oBAAA,IAC5B,KAAA,QAAsD,IAC5B,KAAA,kBAAA,GACG,KAAA,qBAAA,GACX,KAAA,UAAA,GACiB,KAAA,kBAAA,IAAIC,EAAgB,CAAE,CAAA,GACvC,KAAA,aAAA,MACG,KAAA,MAAA;AAAA,EAQlB;AAAA,EAEH,UAAgB;AACd,SAAK,OAAO,WACZ,KAAK,KAAK,SAAS,CAAQC,MAAAA,EAAK,SAAS,GAEzC,KAAK,WAAW;AAAA,EAClB;AAAA,EAEA,sBAAsBC,GAA8D;AAC7E,SAAA,OAAO,UAAU,KAAKA,CAAQ;AAAA,EACrC;AAAA,EAEA,2BAAiC;AAC1B,SAAA,OAAO,YAAY;EAC1B;AACF;"}